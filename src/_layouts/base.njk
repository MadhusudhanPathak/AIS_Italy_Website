<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="{{ site.site.description }}">
    <title>{{ title }} | {{ site.site.name }}</title>
    <link rel="stylesheet" href="/assets/css/style.css">
</head>
<body>
    {% include "header.njk" %}

    <main id="main" class="min-h-screen">
        {{ content | safe }}
    </main>

    {% include "footer.njk" %}

    <script>
        function toggleMenu() {
            const menu = document.getElementById('mobileMenu');
            const btn = document.getElementById('menuToggle');
            const isHidden = menu.classList.contains('hidden');
            if (isHidden) {
                menu.classList.remove('hidden');
                btn.setAttribute('aria-expanded', 'true');
            } else {
                menu.classList.add('hidden');
                btn.setAttribute('aria-expanded', 'false');
            }
        }
        // Close mobile menu when focus moves away (basic enhancement)
        document.addEventListener('click', function (e) {
            const menu = document.getElementById('mobileMenu');
            const btn = document.getElementById('menuToggle');
            if (!menu || !btn) return;
            if (!menu.classList.contains('hidden')) {
                if (!menu.contains(e.target) && !btn.contains(e.target)) {
                    menu.classList.add('hidden');
                    btn.setAttribute('aria-expanded', 'false');
                }
            }
        });
    </script>
</body>
</html>
