<a class="sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:text-sm focus:rounded-md" style="background-color: var(--card-bg); color: var(--text-primary);" href="#main">Skip to content</a>

{% include "icons.njk" %}

<header style="background-color: rgba(var(--bg-primary-rgb), 0.9); backdrop-filter: blur(4px); border-bottom: 1px solid var(--card-border);" class="sticky top-0 z-50">
  <nav class="container flex items-center justify-between py-4">
    <div class="flex items-center space-x-4">
      <a href="/" class="flex items-center gap-3">
        <img src="/assets/img/AISafetyItaly.svg" alt="AI Safety Italia" class="inline-block w-10 h-10">
        <span class="text-lg font-bold" style="color: var(--text-primary);">{{ site.site.name }}</span>
      </a>
    </div>

    <ul class="hidden md:flex items-center space-x-6 text-sm">
      {% for item in site.navigation %}
        <li>
          <a href="{{ item.url }}" class="px-2 py-1 hover:text-accent {% if item.url == page.url %}active{% endif %}" style="color: var(--text-primary);">{{ item.name }}</a>
        </li>
      {% endfor %}
    </ul>

    <div class="hidden md:flex items-center space-x-4">
      <a href="{{ site.social.discord }}" target="_blank" class="btn btn-primary">Join</a>
      <button id="theme-toggle" class="btn btn-outline" aria-label="Toggle dark mode">
        <span id="theme-icon">ðŸŒ™</span>
      </button>
    </div>

    <div class="md:hidden">
      <button id="menuToggle" aria-expanded="false" aria-controls="mobileMenu" class="p-2 rounded-md hover:opacity-75" style="color: var(--text-primary);" onclick="toggleMenu()">
        <span class="sr-only">Open main menu</span>
        â˜°
      </button>
    </div>
  </nav>

  <!-- Mobile menu -->
  <div id="mobileMenu" class="hidden md:hidden border-t" style="border-color: var(--card-border); background-color: var(--bg-primary);">
    <div class="px-4 pb-6 pt-2 space-y-1">
      {% for item in site.navigation %}
        <a href="{{ item.url }}" class="block py-2 hover:text-accent" style="color: var(--text-primary);">{{ item.name }}</a>
      {% endfor %}
      <a href="{{ site.forms.mailingList }}" target="_blank" class="block mt-3 btn btn-primary text-center">Join</a>
    </div>
  </div>
</header>
